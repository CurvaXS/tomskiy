import{r as f,c as v,w as t,u as a,a as r,b as s,l as k,m as B,F as x,G as V,n as P,i as c,p as C,q as u,s as S,t as p,v as _,x as N,y as q,h as F,z as T,A as g,B as I,C as h,j as z,D as w}from"./index-BR7W-eoC.js";import{_ as A,u as D}from"./_plugin-vue_export-helper-Cp86hJrl.js";const E={class:"forgot-password-container"},L={key:0,class:"error-message"},R={key:1,class:"success-message"},j={key:1},G={class:"forgot-password-footer"},H={__name:"ForgotPasswordPage",setup(M){const y=D(),l=f(""),o=f(""),n=f(""),i=f(!1),b=async()=>{var m,e;if(!l.value){o.value="Пожалуйста, введите email";return}i.value=!0,o.value="",n.value="";try{await y.forgotPassword(l.value),n.value="Инструкции по восстановлению пароля отправлены на ваш email",await(await w.create({message:n.value,duration:3e3,position:"bottom",color:"success"})).present(),l.value=""}catch(d){o.value=((e=(m=d.response)==null?void 0:m.data)==null?void 0:e.message)||"Произошла ошибка при отправке запроса",await(await w.create({message:o.value,duration:3e3,position:"bottom",color:"danger"})).present()}finally{i.value=!1}};return(m,e)=>(r(),v(a(z),null,{default:t(()=>[s(a(k),null,{default:t(()=>[s(a(B),null,{default:t(()=>[s(a(x),{slot:"start"},{default:t(()=>[s(a(V),{"default-href":"/login"})]),_:1}),s(a(P),null,{default:t(()=>e[1]||(e[1]=[c("Восстановление пароля")])),_:1})]),_:1})]),_:1}),s(a(C),{class:"ion-padding"},{default:t(()=>[u("div",E,[e[4]||(e[4]=u("h2",null,"Восстановление доступа",-1)),e[5]||(e[5]=u("p",null,"Введите ваш email для получения инструкций по сбросу пароля",-1)),u("form",{onSubmit:S(b,["prevent"]),class:"forgot-password-form"},[s(a(N),null,{default:t(()=>[s(a(q),null,{default:t(()=>[s(a(F),{position:"floating"},{default:t(()=>e[2]||(e[2]=[c("Email")])),_:1}),s(a(T),{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),type:"email",required:""},null,8,["modelValue"])]),_:1})]),_:1}),o.value?(r(),p("div",L,g(o.value),1)):_("",!0),n.value?(r(),p("div",R,g(n.value),1)):_("",!0),s(a(I),{expand:"block",type:"submit",disabled:i.value},{default:t(()=>[i.value?(r(),v(a(h),{key:0,name:"crescent"})):(r(),p("span",j,"Отправить"))]),_:1},8,["disabled"]),u("div",G,[s(a(I),{fill:"clear",size:"small","router-link":"/login"},{default:t(()=>e[3]||(e[3]=[c(" Вернуться к входу ")])),_:1})])],32)])]),_:1})]),_:1}))}},O=A(H,[["__scopeId","data-v-5d4941dd"]]);export{O as default};
